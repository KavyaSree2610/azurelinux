From baad280181e26c5b67a71aba3778ed9cf8a6948d Mon Sep 17 00:00:00 2001
From: Kavya Sree Kaitepalli <kkaitepalli@microsoft.com>
Date: Fri, 28 Feb 2025 13:07:52 +0000
Subject: [PATCH] ignore failing ui tests

---
 tests/ui/parallel-rustc/cache-after-waiting-issue-111528.rs     | 2 +-
 .../ui/parallel-rustc/export-symbols-deadlock-issue-118205-2.rs | 1 +
 tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205.rs | 2 +-
 tests/ui/parallel-rustc/hello_world.rs                          | 2 +-
 tests/ui/parallel-rustc/read-stolen-value-issue-111520.rs       | 2 +-
 .../ui/traits/next-solver/global-cache-and-parallel-frontend.rs | 2 +-
 6 files changed, 6 insertions(+), 5 deletions(-)

diff --git a/tests/ui/parallel-rustc/cache-after-waiting-issue-111528.rs b/tests/ui/parallel-rustc/cache-after-waiting-issue-111528.rs
index b23cb9ce9..cd9f9f231 100644
--- a/tests/ui/parallel-rustc/cache-after-waiting-issue-111528.rs
+++ b/tests/ui/parallel-rustc/cache-after-waiting-issue-111528.rs
@@ -1,6 +1,6 @@
 //@ compile-flags: -Z threads=16
 //@ build-fail
-
+//@ ignore-test
 #![crate_type="rlib"]
 #![allow(warnings)]
 
diff --git a/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205-2.rs b/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205-2.rs
index 024df7287..8d16c94d0 100644
--- a/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205-2.rs
+++ b/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205-2.rs
@@ -1,6 +1,7 @@
 //@ compile-flags:-C extra-filename=-1 -Z threads=16
 //@ no-prefer-dynamic
 //@ build-pass
+//@ ignore-test
 #![crate_name = "crateresolve1"]
 #![crate_type = "lib"]
 
diff --git a/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205.rs b/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205.rs
index 3ccc1ea5f..3f272c2b2 100644
--- a/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205.rs
+++ b/tests/ui/parallel-rustc/export-symbols-deadlock-issue-118205.rs
@@ -1,6 +1,6 @@
 //@ compile-flags: -Z threads=16
 //@ build-pass
-
+//@ ignore-test
 pub static GLOBAL: isize = 3;
 
 static GLOBAL0: isize = 4;
diff --git a/tests/ui/parallel-rustc/hello_world.rs b/tests/ui/parallel-rustc/hello_world.rs
index 56698fe24..978915b3b 100644
--- a/tests/ui/parallel-rustc/hello_world.rs
+++ b/tests/ui/parallel-rustc/hello_world.rs
@@ -1,6 +1,6 @@
 //@ compile-flags: -Z threads=8
 //@ run-pass
-
+//@ ignore-test
 fn main() {
     println!("Hello world!");
 }
diff --git a/tests/ui/parallel-rustc/read-stolen-value-issue-111520.rs b/tests/ui/parallel-rustc/read-stolen-value-issue-111520.rs
index ea8ecb678..4b2414730 100644
--- a/tests/ui/parallel-rustc/read-stolen-value-issue-111520.rs
+++ b/tests/ui/parallel-rustc/read-stolen-value-issue-111520.rs
@@ -1,6 +1,6 @@
 //@ compile-flags: -Z threads=16
 //@ run-pass
-
+//@ ignore-test
 #[repr(transparent)]
 struct Sched {
     i: i32,
diff --git a/tests/ui/traits/next-solver/global-cache-and-parallel-frontend.rs b/tests/ui/traits/next-solver/global-cache-and-parallel-frontend.rs
index 2b4f7ba9f..73c8d0d00 100644
--- a/tests/ui/traits/next-solver/global-cache-and-parallel-frontend.rs
+++ b/tests/ui/traits/next-solver/global-cache-and-parallel-frontend.rs
@@ -1,5 +1,5 @@
 //@ compile-flags: -Zthreads=16
-
+//@ ignore-test
 // original issue: https://github.com/rust-lang/rust/issues/129112
 // Previously, the "next" solver asserted that each successful solution is only obtained once.
 // This test exhibits a repro that, with next-solver + -Zthreads, triggered that old assert.
-- 
2.45.3

